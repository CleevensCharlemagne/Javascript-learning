<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const sentence = `Pour le Pays, pour les Ancêtres
Marchons unis, marchons unis
Dans nos rangs point de traîtres
Du sol soyons seuls maîtres
Marchons unis, marchons unis
Pour le Pays, pour les Ancêtres
Marchons, marchons, marchons unis
Pour le Pays, pour les Ancêtres

Pour les Aïeux, pour la Patrie
Bêchons joyeux, bêchons joyeux
Quand le champ fructifie
L'âme se fortifie
Bêchons joyeux, bêchons joyeux
Pour les Aïeux, pour la Patrie
Bêchons, bêchons, bêchons joyeux
Pour les Aïeux, pour la Patrie

Pour le Pays et pour nos Pères
Formons des Fils, formons des Fils
Libres, forts et prospères
Toujours nous serons frères
Formons des Fils, formons des Fils
Pour le Pays et pour nos Pères
Formons, formons, formons des Fils
Pour le Pays et pour nos Pères

Pour les Aïeux, pour la Patrie
O Dieu des Preux, O Dieu des Preux
Sous ta garde infinie
Prends nos droits, notre vie
O Dieu des Preux, O Dieu des Preux
Pour les Aïeux, pour la Patrie
O Dieu, O Dieu, O Dieu des Preux
Pour les Aïeux, pour la Patrie

Pour le Drapeau, pour la Patrie
Mourir est beau, mourir est beau
Notre passé nous crie:
Ayez l'âme aguerrie
Mourir est beau, mourir est beau
Pour le Drapeau, pour la Patrie
Mourir, mourir, mourir est beau
Pour le Drapeau, pour la Patrie`;

      let tabMots = {};
      let tabFrequences = [];

      function nettoyerMot(mot) {
        return mot
          .replace(/[.,!?;:'"()\[\]{}\-]/g, "") // Enlève ponctuations
          .replace(/\s+/g, " ") // Remplace les espaces multiples
          .trim()
          .toLowerCase(); // On passe en minuscule pour compter correctement
      }

      function compterFrequence(phrase) {
        let mots = phrase.match(/\b\w+\b/g);

        if (mots) {
          mots.forEach((mot) => {
            let propre = nettoyerMot(mot);
            if (propre in tabMots) {
              tabMots[propre]++;
            } else {
              tabMots[propre] = 1;
            }
          });
        }
      }

      function afficherFrequences() {
        for (let mot in tabMots) {
          console.log(`${mot}: ${tabMots[mot]}`);
        }
      }

      function top3() {
        for (let k in tabMots) {
          tabFrequences.push({ mot: k, freq: tabMots[k] });
        }

        tabFrequences.sort((a, b) => b.freq - a.freq);
        console.log(tabFrequences[0]);
        console.log(tabFrequences[1]);
        console.log(tabFrequences[2]);
      }

      compterFrequence(sentence);
      afficherFrequences();
      top3();
    </script>
  </body>
</html>
